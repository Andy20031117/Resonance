:root{
  --bg:#0a0a0f;
  --grid:#202036;
  --primary:#00f0ff;
  --accent:#ff4dfc;
  --lime:#6bff8d;
  --warning:#ffc24d;
  --danger:#ff5e5e;
  --card:#11121a;
  --muted:#9aa2b1;
  --text:#e7ecf3;
  --shadow:0 20px 60px rgba(0,0,0,.45);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:"Chakra Petch", system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, sans-serif;
  overflow-x:hidden;
}

/* 背景：網格＋星點＋掃描線 */
.bg-layer{position:fixed; inset:0; z-index:-1;}
.bg-layer .grid{
  position:absolute; inset:0;
  background:
    linear-gradient(transparent 39px, var(--grid) 40px),
    linear-gradient(90deg, transparent 39px, var(--grid) 40px);
  background-size:40px 40px;
  opacity:.25;
}
/* 如要疊上你的 Gbg.png，取消以下註解
.bg-layer::before{
  content:""; position:absolute; inset:0;
  background:url('Gbg.png') center/cover no-repeat;
  opacity:.22; filter:contrast(1.1) saturate(1.1);
}
*/
.stars{position:absolute; inset:0; background-repeat:repeat; mix-blend-mode:screen; opacity:.6}
.stars-a{
  background-image:
    radial-gradient(circle at 20% 30%, rgba(0,240,255,.35) 1px, transparent 1px),
    radial-gradient(circle at 70% 60%, rgba(255,77,252,.25) 1px, transparent 1px);
  background-size:4px 4px, 3px 3px; filter:blur(.3px);
  animation: driftA 18s linear infinite;
}
.stars-b{
  background-image:radial-gradient(circle at 40% 50%, rgba(255,255,255,.5) 1px, transparent 1px);
  background-size:2px 2px; opacity:.5; animation: driftB 28s linear infinite reverse;
}
@keyframes driftA{from{background-position:0 0, 0 0} to{background-position:600px 300px, -500px -200px}}
@keyframes driftB{from{background-position:0 0} to{background-position:-800px 400px}}
.scanline{position:absolute; inset:0; background:repeating-linear-gradient(0deg, rgba(255,255,255,.03) 0px, rgba(255,255,255,.03) 2px, transparent 3px, transparent 6px); mix-blend-mode:overlay;}

.wrap{max-width:1100px; margin:6vh auto 10vh; padding:0 20px; perspective:1200px}
.hero{text-align:center; margin-bottom:16px}
.hero .subtitle{color:var(--muted); margin:.25rem 0 0; letter-spacing:.1em}

/* glitch 字 */
.glitch{position:relative; display:inline-block; font-family:"Orbitron", sans-serif; font-weight:800; font-size:clamp(28px,5vw,56px);
  letter-spacing:.12em; text-transform:uppercase; color:var(--primary); text-shadow:0 0 12px rgba(0,240,255,.7);
}
.glitch::before,.glitch::after{content:attr(data-text); position:absolute; left:0; top:0; clip-path:inset(0 0 0 0);}
.glitch::before{transform:translate(2px,-2px); color:var(--accent); opacity:.8; mix-blend-mode:screen}
.glitch::after{transform:translate(-2px,2px); color:#fff; opacity:.6; filter:blur(.5px)}

.card{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.08);
  border-radius:18px; box-shadow:var(--shadow); backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px);
}
.result-card{transform-style:preserve-3d; padding:20px;}
.card-inner{transform:translateZ(40px)}

.poem{font-family:"Chakra Petch", system-ui; font-size:clamp(14px,1.8vw,17px); line-height:1.7; color:#d7f7ff; border-left:3px solid var(--primary);
  padding:10px 16px; margin:10px 0 16px; text-shadow:0 0 10px rgba(0,240,255,.25);
}

.stats{display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:14px; margin-top:10px}
.stat{background:rgba(10,12,18,.6); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:14px 16px; position:relative}
.label{font-family:"Press Start 2P", system-ui, monospace; font-size:10px; letter-spacing:.1em; color:#a9b3c7; opacity:.9}
.value{font-family:"Orbitron", sans-serif; font-weight:800; font-size:clamp(18px,3.6vw,30px); margin-top:6px; display:block}
.value.small{font-size:clamp(12px,2.4vw,14px)}
.badge{display:inline-block; padding:6px 12px; border-radius:12px; background:linear-gradient(135deg, var(--accent), #7a5eff);
  color:white; font-weight:800; letter-spacing:.08em; box-shadow:0 0 18px rgba(255,77,252,.35);
}

.progress{height:10px; background:rgba(255,255,255,.06); border-radius:999px; overflow:hidden; margin-top:8px}
.bar{height:100%; background:linear-gradient(90deg, var(--primary), var(--lime)); box-shadow:0 0 14px rgba(0,240,255,.6) inset;
  width:0%; transition:width .9s cubic-bezier(.2,.7,.2,1);
}

.kpi{display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:14px; margin:16px 0 4px}
.kpi-item{background:rgba(10,12,18,.6); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:14px 16px}
.kpi-label{font-family:"Press Start 2P"; font-size:9px; color:#9ab0ff}
.kpi-value{font-family:"Orbitron"; font-weight:700; font-size:clamp(16px,3vw,24px); margin-top:6px}

.cta{display:flex; gap:12px; justify-content:center; margin:18px 4px 8px}
.btn{border:none; padding:12px 18px; border-radius:14px; cursor:pointer; font-weight:800; letter-spacing:.06em; transition:.22s transform, .22s filter;
  text-transform:uppercase; font-family:"Chakra Petch";
}
.btn:active{transform:translateY(2px)}
.btn-primary{background:linear-gradient(135deg, var(--primary), #46ffd2); color:#00323a; text-shadow:0 0 10px rgba(255,255,255,.4);
  box-shadow:0 10px 28px rgba(0,240,255,.3);
}
.btn-ghost{background:transparent; color:var(--text); border:1px solid rgba(255,255,255,.18)}
.btn-share{background:linear-gradient(135deg, var(--accent), #ff9af9); color:#3a0039; box-shadow:0 10px 28px rgba(255,77,252,.28)}
.btn:hover{filter:brightness(1.08)}

.board{margin-top:18px; padding:18px}
.board-title{margin:0 0 8px; font-family:"Orbitron"; letter-spacing:.12em; color:var(--lime); text-shadow:0 0 12px rgba(107,255,141,.35)}
.board-list{list-style:none; margin:0; padding:0}
.board-list li{display:grid; grid-template-columns:40px 1fr auto; gap:12px; align-items:center; padding:10px 12px; border-radius:12px;
  border:1px dashed rgba(255,255,255,.12); background:rgba(10,12,18,.55);
}
.board-list li + li{margin-top:8px}
.board-rank{font-family:"Press Start 2P"; font-size:10px; color:#a9b3c7}
.board-name{font-weight:700}
.board-score{font-family:"Orbitron"; font-weight:800}

.tips{margin-top:10px; text-align:center; color:#9aa2b1}
.tips span{color:var(--primary)}

.toast{position:fixed; bottom:18px; left:50%; transform:translateX(-50%) translateY(40px); background:rgba(0,0,0,.7);
  color:#fff; padding:10px 14px; border-radius:10px; opacity:0; transition:.3s; pointer-events:none; border:1px solid rgba(255,255,255,.18);
}
.toast.show{opacity:1; transform:translateX(-50%) translateY(0)}

/* RWD */
@media (max-width:860px){
  .stats{grid-template-columns:repeat(2, minmax(0,1fr))}
  .kpi{grid-template-columns:1fr}
}
